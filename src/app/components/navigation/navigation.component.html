<div class="surface-card p-4 shadow-2 border-round" [@routerTransition]>
  <div class="flex card-container blue-container overflow-hidden">
    <div
      class="flex-none">
      <div class="font-medium text-3xl text-900 mb-3">
        Navigations
      </div>
    </div>
    <div
      class="flex-grow-1">

    </div>
    <div
      class="flex-none flex ">
      <p-button label="New Navigation" icon="pi pi-plus" (click)="newNavigation()"
                styleClass="p-button-sm m-2"></p-button>

    </div>
  </div>
  <div class="text-500 mb-5">Sidebar Navigation Management</div>
  <p-confirmDialog [style]="{width: '50vw'}" key="positionDialog" position="bottom" [baseZIndex]="10000"
                   rejectButtonStyleClass="p-button-outlined"></p-confirmDialog>

  <div class="grid">
    <div class="col-12">
      <div class="grid">
        <div class="col-12">
          <p-treeTable [value]="navigations" styleClass="p-datatable-sm">
            <ng-template pTemplate="header">
              <tr>
                <th>Caption</th>
                <th>Visible</th>
                <th>Icon</th>
                <th>Index</th>
                <th>Actions</th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-rowNode let-rowData="rowData">
              <tr [ttRow]="rowNode">
                <td>
                  <p-treeTableToggler [rowNode]="rowNode"></p-treeTableToggler>
                  {{rowData.caption}}
                </td>
                <td>{{rowData.visible}}</td>
                <td><i class="{{rowData.icon}}"></i></td>
                <td>{{rowData.index}}</td>
                <td>
                  <button pButton pRipple type="button" [matMenuTriggerFor]="entityActionsMenu"
                          class="p-button-secondary p-button-text" style="height: 20px">
                    <mat-icon>dehaze</mat-icon>
                  </button>
                  <mat-menu #entityActionsMenu>
                    <menu mat-menu-item class="m-0" (click)="newNavigation(rowData.id)">
                      <mat-icon>open_in_new</mat-icon>
                      <span>Add Child</span>
                    </menu>
                    <menu mat-menu-item class="m-0" (click)="reOrderNavigations(rowData.parentNavigationId)">
                      <mat-icon>reorder</mat-icon>
                      <span>ReOrder</span>
                    </menu>
                    <menu mat-menu-item class="m-0" (click)="updateNavigation(rowData.id)">
                      <mat-icon>edit</mat-icon>
                      <span>Update</span>
                    </menu>
                    <menu mat-menu-item class="m-0" (click)="deleteProperty(rowData.id)">
                      <mat-icon>delete</mat-icon>
                      <span>Delete</span>
                    </menu>
                  </mat-menu>
                </td>
              </tr>
            </ng-template>
          </p-treeTable>
        </div>
      </div>
    </div>
  </div>

</div>
